<!doctype html>
<html>
  
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phaser Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden; /* Prevents scrolling */
    }
    #game canvas{
      transform-origin: top left;
      transform: scale(4.5);
    }
  </style> 
</head>
<body>
  <div id="game"></div>
  <!-- Phaser library -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.24.1/dist/phaser.min.js"></script>
  <!-- Game scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="./PreloadScene.js"></script>
  <script src="./GameScene.js"></script>
  <script src="./NextLevel.js"></script>
  <script src="./game.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
  function checkDatabaseConnection() {
    $.ajax({
      type: 'GET',
      url: '/check-db-connection',
      success: function (data) {
        if (!data.connected) {
          window.location.replace('/checkdb.html');
        } else {
          setTimeout(checkDatabaseConnection, 100); // Check every 100ms
        }
      },
      error: function () {
        window.location.replace('/checkdb.html');
      }
    });
  }

  $(document).ready(function () {
    checkDatabaseConnection();
    setInterval(checkDatabaseConnection, 100); // Check every 100ms
  });
</script>

</html>